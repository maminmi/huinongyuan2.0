<!DOCTYPE html>
<html>
	<head>
		<title>惠农源 | 购物车</title>
		<!-- for-mobile-apps -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="icon" type="image/x-icon" href="../favicon.ico">

		<link href="../css/cart.css" rel="stylesheet" type="text/css" media="all" />
		<link rel="stylesheet" href="../css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="../font/iconfont.css">
		<!-- <link href='//fonts.googleapis.com/css?family=Signika:400,300,600,700' rel='stylesheet' type='text/css'>
		-->
		<script src="../js/vue-2.5.16.js"></script>
		<script type="text/javascript" src="../js/jquery.min.js"></script>
		<style type="text/css">
			.navbar-dark{
				background-color: #111;
			}
			.nav1-item .nav-link{
				color:#fff!important;
				padding:15px!important;
			}
			
		</style>
	</head>
	<body>
		<!-- header -->
		<nav class="navbar navbar-expand-lg navbar-dark text-center">
			<div class="col-lg-4 col-4"></div>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon" style="text-align:right"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active  nav1-item" >
						<a class="nav-link" href="home.html"><i class="iconfont icon-shouye" style="color:#2FDAB8;font-weight:bold"></i>首页 <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item  nav1-item">
						<a class="nav-link" href="guoshuzibai.html"><i class="iconfont icon-taolun" style="color:#2FDAB8;font-weight:bold"></i>果蔬自白</a>
					</li>
					<li class="nav-item nav1-item">
						<a class="nav-link" href="dingzhi.html"><i class="iconfont icon-dingzhi" style="color:#2FDAB8;font-weight:bold"></i>定制</a>
					</li>
					<li class="nav-item nav1-item">
						<a class="nav-link" href="cart.html"><i class="iconfont icon-gouwuchekong" style="color:#2FDAB8;font-weight:bold"></i>购物车</a>
					</li>
					<li class="nav-item nav1-item">
						<a class="nav-link" href="wode.html"><i class="iconfont icon-gouwuchekong" style="color:#2FDAB8;font-weight:bold"></i>我的</a>
					</li>
				</ul>
				<form class="form-inline my-2 my-lg-0 row" style="margin-left:2px">
					<input class="form-control col-7" type="search" placeholder="Search" aria-label="Search">
					<div class="col-1"></div>
					<button class="btn btn-outline-success my-2 my-sm-0 col-2" type="submit"><i class='iconfont icon-sousuo'></i></button>
				</form>
			</div>
		</nav>
		<!-- <header>-->
		<!-- main -->
		<div class="main" id="cart">
			<h1>购物车</h1>
			<div class="main-grid2" >
				<h2>购物袋 (3)</h2>
				<div class="cart_box col-12" v-for="product in products">
					<div class="message">
						<div class="alert-close2"> </div>
						<div class="list_img"><img :src="product.productImg" class="img-responsive" alt=""></div>
						<div class="list_desc"><h4 style="margin-top:3%"><a href="#" v-text="product.productName"></a></h4>
						<span class="actual">{{product.productPrice}}</span>

						<button style="margin-top:3%" @click="rednum(product)">-</button><button v-text="product.productNumber"></button><button @click="addnum(product)">+</button>
						</div>
						<div class="clear" @click="delproduct(product)"></div>
					</div>

				</div>
				<div class="total">
					<div class="total-right">
					<!-- <p>总计 :<span v-text="product.productPrice  * product.productNumber"> </span></p> -->
						<a href="#">结算</a>
					</div>
					<div class="clear"> </div>
				</div>
			</div>
			
		</div>
		<!-- //main -->
		<script>
		
			var vm = new Vue({
	            el:"#cart",
	            data:{
	                products:[],
	            },
	            created:function(){
	                $.ajax({
	                  url:"../data/cart.js",
	                  type:"GET",
	                  dataType:"jsonp",
	                  jsonpCallback:"jsona",
	                  crossDomain:true
	                }).done((e)=>{
	                   console.log(e);
	                   this.products = e.products;
	                });
	            },
	   //          filters: {
				//     formatMoney: function(value) {
				//       return "¥" + value.round(2);
				//     }

				// },
	            methods:{
	              	addnum:function(product){
	              		product.productNumber++;
					},
					rednum:function(product){
						if(product.productNumber<2){
							product.productNumber=1;
						}else{
							product.productNumber--;
						}
					},
					delproduct:function(product){
						var index = product.productId;
	        			products.splice(index, 1);

					}
	            } 
            })
		</script>
		<script type="text/javascript" src="../js/bootstrap.min.js"></script>
	</body>
</html>